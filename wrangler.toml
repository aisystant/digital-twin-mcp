name = "digital-twin-mcp"
main = "src/worker-sse.js"
compatibility_date = "2024-12-01"

# Account details - update with your Cloudflare account ID
# account_id = "your-account-id-here"

# Observability configuration for enhanced logging
[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true

[env.production]
name = "digital-twin-mcp-prod"
routes = [
  { pattern = "digital-twin-mcp.yourdomain.com", custom_domain = true }
]

[env.staging]
name = "digital-twin-mcp-staging"

# KV namespace for persistent twin data storage
[[kv_namespaces]]
binding = "DIGITAL_TWIN_DATA"
id = "640bc613fc57435bbc01da89b5800897"

# Optional: Configure D1 database for SQL storage (future enhancement)
# [[d1_databases]]
# binding = "DB"
# database_name = "digital-twin-db"
# database_id = "your-d1-database-id"

# ============================================
# Authentication Secrets (Ory.sh)
# ============================================
#
# To enable Ory authentication, set these secrets:
#
#   wrangler secret put ORY_PROJECT_URL
#   # Enter: https://your-project.projects.oryapis.com
#
#   wrangler secret put API_KEY
#   # Enter: your-api-key (optional, for machine-to-machine auth)
#
#   wrangler secret put CORS_ORIGIN
#   # Enter: https://your-frontend.com (optional, defaults to *)
#
# Access in worker via env.ORY_PROJECT_URL, env.API_KEY, env.CORS_ORIGIN
